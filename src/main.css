/* Basics */
* {font-family: Helvetica, Arial, sans-serif; }
*{ user-select: text; box-sizing: border-box; position: relative;}
/* 
more space between contrasts. 
more or same vertical padding than horizontal.

Give each color a distinct brightness value.
use near-white or black (f2f2f2 or 222 if you aren't saturating) 
- f2f2f2 is just 95% brightness 
- 222222 is just 13% brightness 
Saturate neutrals colors at least 5%.
Layers get brighter. 
- +12% more for dark interfaces,
- +7% for light interfaces.

--canvas:                    hsl(0, 10%, 90%); 
--background:                hsl(0, 80%, 90%); 
--foreground:                rgb(255, 240, 240); 
*/  
:root { 
  --canvas: 232, 227, 227;
  --background-darker: 255, 214, 214; 
  --background: 250, 209, 209; 
  --foreground: 255, 240, 240;
  --near-black: 0, 72, 72; /* 180, 100%, 14% */
  /* --near-black: 0, 14, 42; darkblue - 220, 100%, 8% */
  --near-white: 238, 226, 226; /*light red -  0, 26%, 91% */

  --max-width: min(800px, 100vw);
}
:root {  
  /* phasing bg to show and hide cubes */
  --bggradient1:  rgb(var(--canvas));
  --bggradient2:  rgba(var(--canvas), 0.8);

  /*Foot and Header Gradients And Shadows */
  --bggradientheader: linear-gradient(70deg, 
          rgba(var(--background), .5), 
          rgba(var(--foreground), .5), 
          rgba(var(--background), .5) 
  );  
  --bggradientfooter: linear-gradient(70deg, 
          rgba(var(--background), .6), 
          rgba(var(--foreground), .6), 
          rgba(var(--background), .6) 
  );
  /* shadows should double blur than their y's */
  /* Borders should contrast both interior and int/exterior of container */
  --filterdropshadowover: drop-shadow(4px 4px 10px rgb(var(--foreground)) );
  --filterdropshadowunder: drop-shadow(4px -4px 1px rgb(var(--background)));

  --radial1:radial-gradient(at 52% 13%, hsla(215,77%,79%,1) 0px, transparent 50%),
  radial-gradient(at 40% 33%, hsla(173,63%,76%,1) 0px, transparent 50%),
  radial-gradient(at 15% 92%, hsla(166,97%,69%,1) 0px, transparent 50%),
  radial-gradient(at 97% 78%, hsla(229,94%,76%,1) 0px, transparent 50%),
  radial-gradient(at 19% 52%, hsla(27,99%,69%,1) 0px, transparent 50%),
  radial-gradient(at 68% 16%, hsla(339,76%,78%,1) 0px, transparent 50%),
  radial-gradient(at 25% 1%, hsla(202,73%,63%,1) 0px, transparent 50%);
  
  --max-width: min(800px, 100vw);
  --change1: 0%;
  --change2: 100%;
  --path1:path('M 0 0 L 0 2 L 0 0');
  --path2:0;
}
/*
raise lower letter spacing and line height for smaller text 
-- text size multiples of 8. line height +8px.
*/
html { 
  font-size: 18px; 
  line-height: 26px;
} 
::selection {  background: rgb(var(--background)); }
h1,h2,h3,h4 {text-align: center; text-shadow: none; transition: all .3s ease-in-out;}
h2:hover,h3:hover,h4:hover { text-shadow: 1px 1px 45px rgb(var(--near-black)); transition: all .4s ease-in-out;}
h1,h2,h3,h4,a { color: rgb(var(--near-black)); font-weight: 600; font-family: Courier New,Courier,Monaco,monospace;}

a{ text-decoration: none; } 
/* Expanding hover effect */
a::before {
  content: '';
  background-color: rgb(var(--background));
  position: absolute;
  left: 0; 
  width: 100%;
  height: 0px;
  z-index: -1;
  transition: all .3s ease-in-out;
}
a:hover::before {
  height: 8px;
  bottom: 0;
  height: 100%;
}
span{ font-family: inherit;}
p { word-break: break-word; font-family: Georgia,TimesNewRoman,Times,Times New Roman,serif; }
pre{ max-width: calc( var(--max-width) - 70px); background: rgb(var(--background)); padding: 12px; }
pre > code { color: var(--foreground) }
/* Instead of setting a page width use: li { max-width: 80ch; } */
/* Blockquote */
blockquote{ 
  font-style:italic; background-color: rgb(var(--foreground)); 
  color: var(--foreground); border-left:8px solid rgb(var(--foreground)); 
  position: relative; padding: 12px 5px 1px 5px; 
}
blockquote::before{ content: "\201C"; color: rgb(var(--foreground)); padding-top: 6px; font-size:4em; position: absolute; left: 10px; top:-10px; }
blockquote span{ color: rgb(var(--foreground)); font-style: normal; font-weight: bold; display: block; text-align: center; }

/* Summary */
.details{ background: rgba(var(--background), 0.4); }
details[open] > summary::marker { content: "ðŸ’–"; }
details > summary > * { display: inline; }
summary::marker { content: "ðŸ§¡"; } 
/*
details > img {display:block; margin:auto;}
details[open] > details summary::marker { content: "ðŸ§¡" }
details[open] > details[open] summary::marker { content: "ðŸ’–"; }
*/

ul{  
  padding-left: 0px;
}

summary{ text-align: center; cursor: pointer; font-size: 20px;padding: 12px 0px;}
details{padding: 26px;} 
@media only screen and (max-width: 769px){
  details{padding: 26px 12px} 
}


hr{
  margin: 1px 1px 10px 1px;
  border-top: 1px solid rgba(var(--near-black), 0.1);
}

/*
body
*/
body { 
  margin: 0px;
  overflow-x: hidden;
} 
html {
  scroll-behavior: smooth;
}






















#thanks, h1>a{
    /* transparent text w animated lin gradient bg */
    background: linear-gradient(90deg, 
      rgb(var(--near-black)), 
      rgba(var(--near-black), .4), 
      rgb(var(--near-black)), 
      rgba(var(--near-black), .4)
    );
    background-size: 300% 100%; 
    background-clip: text; 
    color: transparent;
    animation: gradient 5s ease infinite; 
}
h1>a:hover { text-decoration: underline; color: rgb(var(--near-black)); }
#thanks{margin-top:200px; font-size:22px; padding:10px; text-align:center}

  /* 
  Article Content 
  */
  #articleContent { max-width: var(--max-width); margin: auto; }
  #articleContent > p {padding: 0px 12px 0px 12px;} 
  
  
  
  
  
  
  #gradient_bg::before {
    z-index: -6;
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 300%;
    background: linear-gradient(180deg, var(--bggradient1), var(--bggradient2));
    animation: gradient-scroll 2s alternate infinite 2000ms; 

  }
  @keyframes gradient-scroll {
    0% { transform: translate3d(0, 0, 0); }
    25% { transform: translate3d(0, 0, 0); }
    75% { transform: translate3d(0, -50%, 0); } 
    100% { transform: translate3d(0, -50%, 0); } 
  }

  @keyframes gradient {
      0% {		background-position: 0% 0%;	} 
      50% {	  background-position: 100% 100%;	} 
      100% {	background-position: 0% 0%;	}  
  }
  
  
  
  
  
  
  body:has(#sitemap:focus-within) { 
    overscroll-behavior-y: contain; /* Prevent drag-refresh */
  } 
  #sitemap{
    position: fixed; 
    min-width: 8em;
    top: 0;
    left: 0;  
    z-index: 999;
    overflow: hidden;   
    border-radius: .7rem;
    padding: 1rem;
    padding-top: 0px;
  
    backdrop-filter: blur(2px) saturate(100%);
    -webkit-backdrop-filter: blur(2px) saturate(100%);
    background-color: rgba(var(--foreground), 0.6);
    border-radius: 12px; 
    box-shadow: 3px 2px 5px rgb(var(--background) ), -3px -2px 20px rgb(var(--near-white)), inset 0px 0 10px rgb(var(--near-white));
  }
  @keyframes glow { 
    50% { box-shadow: 3px 2px 20px rgb(var(--near-white)), -3px -2px 20px rgb(var(--background)), inset 0px 0 10px rgb(var(--background));  } 
  }
  
  /* hide checkbox, but still expose it to screen readers.*/
  input { position: absolute;  width: 1px; clip: rect(0 0 0 0); overflow: hidden; white-space: nowrap; }
  
  /* Use Labels to trigger CSS Effects on checkbox checked */
  #toggle-sitemap{ visibility: hidden; }
  #toggle-sitemap:not(:checked) ~ #sitemap { animation: collapse 1s forwards, glow 6s linear infinite; }
  #toggle-sitemap:checked ~ #sitemap { animation: expand 1s forwards, pulse 6s linear infinite; }
  @keyframes collapse { from { max-height:75vh} to { max-height:3em; } }
  @keyframes expand { to { max-height:75vh } from { max-height:3em; } }
  
  /* Use Labels to trigger CSS Effects on checkbox checked */
  #sitemap > label {
    line-height: 3em; width: -webkit-fill-available; 
    display: flex; cursor: grab;
    color: rgb(var(--near-black));
    justify-content: space-between;
  }
  #sitemap > label:hover {
    text-shadow: 1px 1px 45px rgb(var(--near-black)); 
  } 

  #toggle-sitemap:not(:checked) ~ #sitemap > label > span:nth-child(1) { --rotate:90deg; animation: dismiss 1s forwards;  } 
  #toggle-sitemap:checked ~ #sitemap > label > span:nth-child(1) { --rotate:90deg; animation: reveal 500ms forwards;  } 
  @keyframes reveal {  from {transform:rotate(0deg)} to {transform: rotate(var(--rotate)); } }
  @keyframes dismiss { from {transform:rotate(var(--rotate))} to {transform: rotate(0deg); } }

  #sitemap-content{
    display:grid;
    overflow: auto;
    max-height: calc(75vh - 6em);
  }
  
    /* triggers w observer on header and on hover */
    @keyframes shake {
      0% {transform: translate(0, 0);-webkit-transform: translate(0, 0);}
      50% {transform: translate(4px, 0);-webkit-transform: translate(4px, 0);}
      100% {transform: translate(0, 0);-webkit-transform: translate(0, 0);}
    } 
    #currentPage:hover {color: rgb(var(--near-black));}
    #currentPage + div>a:hover{ text-decoration: line-through !important;}
    #currentPage + div {display:block;font-size: 16px; line-height:16px;}
    #drag{
      position:absolute;
      color:rgb(var(--near-black));
      top:-19px;
      left:-12px;
      font-size: 12px;
      animation:shake 1s linear alternate infinite;
    }
    #sitemap> a { display: inherit;  width: fit-content;}
    #sitemap> a:hover{ animation:shake 1s linear alternate infinite;}
    #currentPage:hover{animation:gradient 4s linear alternate infinite, shake 1s linear alternate infinite;}
    #currentPage{ animation:gradient 4s linear alternate infinite;
      background-size: 100% 400%;
      border-radius: 5px;
      background-image: var(--radial1)
    }



  
  
  
  #header{
    /* center and size to header_nav*/
    width: fit-content;
    margin: 60px auto 30px auto;
  }
  #header_nav{
    padding: 12px;
    text-align: center;
    z-index: 9;
  }
  #header_bg_wrapper{
    position: absolute;
    top:0px;
    width:100%;
    height:100%;   
    filter: var(--filterdropshadowover); 
  }
  #header_bg{  
    border-radius: 50px;
    width:100%;
    height:100%;  
    background: var(--bggradientheader);
    clip-path: polygon(33% 38%, 0 43%, 0 0, 100% 0, 100% 43%, 66% 38%, 66% 46%, 100% 60%, 100% 100%, 0 100%, 0 60%, 33% 46%);
    animation:spin-header 1s linear alternate infinite;
    transition-duration: 2s;
  } 
  #header:hover > #header_bg_wrapper > #header_bg{
    clip-path: polygon(0% 15%, 15% 15%, 15% 0%, 85% 0%, 85% 15%, 100% 15%, 100% 85%, 85% 85%, 85% 100%, 15% 100%, 15% 85%, 0% 85%);
  } 
  @keyframes spin-header{ 
    from{transform:rotate(-4deg);} 
      to{transform:rotate(4deg);} 
  }
  @keyframes wiggle { /*used by intersection observer in main.js*/
    0% {transform: translate(0, 0);}
    50% {transform: translate(5px, 0);}
    100% {transform: translate(0, 0);}
  }
  
  
  
  
  
  

  #pageTransitioneer {
    font-size:22px;
    position: fixed;
    z-index: 100;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    opacity: 0;
    overflow: hidden;
    transform: translate(-50%, -50%) scale(0);
    border-radius: 50px;
    background: var(--radial1);
    background-size: 100% 200%; 
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  @keyframes pageTransitioneer {
    0% {opacity:1; transform: translate(-50%, -50%) scale(0);}
    70% {opacity:1; transform: translate(-50%, -50%) scale(1);  }
    100% {opacity:1; transform: translate(-50%, -50%) scale(1); }
  }
  
  
  
  
  
  
  #footer{
    position:fixed; bottom: 0px; left: 0px; right: 0px; height: 200px;
    width: min(100vw, 800px); z-index: -6;
    margin: auto;
  } 
  #footer_bg_wrapper{
    position: absolute;
    width:100%; height:100%;   
    filter: var(--filterdropshadowunder); 
  }
  #footer_bg{
    /* This is the animation */
    width:100%; height:100%;
    background: var(--bggradientfooter);
  } 
  
  
  
  .broider {
    border-image:  url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAatJREFUeF7t3EuOwjAABFG4XY7M7WAdI9FquSKZuNjaNJ7nJp8R8Hy0j+N4n57yej3biDvP7zEE/dkHQeG3i6CCwgJwnA0VFBaA42zo5aDpsmh2HP4DVov7bugsWHr+agLwegQVFBaA4/JJaXwLpwVsfm8vaCpIOS5oCZamC5qEyvEMOgZuflmUfAVNQuW4oCVYmi5oEirHe9DyBXabLii844IKCgvAcX1D23v7ccE3v9cX1IbCAnCcDV0O9ObHxNZ7vqGCnswFbSsY5gsqKCwAx9lQQWEBOM6GCgoLwHE2VFBYAI6zoYLCAnCcDRUUFoDjbKigsAAcZ0MFhQXgOBsqKCwAx9lQQWEBOM6GCgoLwHE2VFBYAI6zoZeDzn7+c1zgZh/VyV/vnt1BQYdfDhO0ErChFVee3J+UcubWMwSFt19QQWEBOC6flNrLns2/Ty+oDYUF4Dgbejno+ALpmJjG4QWvHpcvmxJYGl9dAF6foILCAnBcbmh7TIUX+G9xgsI7JqigsAAclxuaLovSOLzg1eMEhXdIUEFhATjOf44ICgvAcTZUUFgAjvsAzQksZB+8F2AAAAAASUVORK5CYII=") 28 /  28px / 0 round;
    border-width:  28px 16px;
    border-style:  solid;
    max-width: 800px;
    margin: auto;
  }
  @media only screen and (max-width: 769px){
    .broider {
      border-width: 28px 0px 28px 16px;
    }
  }

  
  
  
    /* Move along path 
      md.style.offsetPath = md.style.offsetPath.replace(/1/g, window.innerWidth).replace(/2/g, window.innerHeight)
    */   
    #tracer {
      offset-path: path('M 0 0 L 0 2 L 0 0'); /* Generated path updates this */
      animation: move 15s linear infinite;
      clip-path: path('M27.822 8.205v-2.862h-2.637V2.484h-6.03v2.859h-2.637v2.862h-2.355v-2.862h-2.64V2.484H5.496v2.859H2.859v2.862H.501v5.718h2.358v2.862h2.259v2.859H7.38v2.859h2.637v2.862h3.015v2.859h4.617v-2.859h3.012v-2.862h2.64v-2.859H25.563v-2.859h2.259v-2.862h2.355V8.205z');
      position:absolute; bottom: 160px;
      width: 30px; height: 50px; 
    }
    @keyframes move {
      0% {  background: rgb(var(--near-black)); transform: translateZ(0); offset-distance: var(--change1);}
      25% { background: var(--near-white)}; 
      50% { background: rgb(var(--near-black))}
      75% { background: var(--near-white)} 
      100% {background: rgb(var(--near-black)); offset-distance: var(--change2);}
    } 
    @keyframes clip-path-polygon {
      0% { clip-path: var(--path2) }
      100% { clip-path: var(--path1) }
    }
  
  
  
  #svg_bg{position: fixed;z-index:-8;top:0px; width:100vw; height:100vh}
  .cube {--startx: 0; --starty: 0; --endx: -100vh; --endy: -120vh; will-change: transform;}
  @keyframes cube-animation { 
    from { transform: translate3d(var(--startx), var(--starty),0 ) }
    to { transform: translate3d(var(--endx), var(--endy), 0 ) } 
  }